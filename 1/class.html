<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.6">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Flavio Jara L.">

<title>Integrales: Sustitución trigonométrica y fracciones parciales</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="class_files/libs/clipboard/clipboard.min.js"></script>
<script src="class_files/libs/quarto-html/quarto.js"></script>
<script src="class_files/libs/quarto-html/popper.min.js"></script>
<script src="class_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="class_files/libs/quarto-html/anchor.min.js"></script>
<link href="class_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="class_files/libs/quarto-html/quarto-syntax-highlighting-6c21014d9765ba549c6ebad95917e4d7.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="class_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="class_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="class_files/libs/bootstrap/bootstrap-390bd0d2f8e2e6802802f965ebf2e7f0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Integrales: Sustitución trigonométrica y fracciones parciales</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Flavio Jara L. </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="sustitución-trigonométrica" class="level2">
<h2 class="anchored" data-anchor-id="sustitución-trigonométrica">Sustitución trigonométrica</h2>
<p>La sustitución trigonométrica es una técnica utilizada para resolver integrales que involucran raíces cuadradas de expresiones cuadráticas. Esta técnica se basa en la relación entre las funciones trigonométricas y las raíces cuadradas.</p>
<section id="tabla" class="level5">
<h5 class="anchored" data-anchor-id="tabla">Tabla</h5>
<p>Una opción (que no recomiendo) es usar la siguiente tabla de sustituciones trigonométricas: <span class="math display">\[
\begin{array}{|c|c|c|}
\hline
\text{Forma} &amp; \text{Sustitución} &amp; \text{Integral resultante} \\
\hline
\sqrt{a^2 - x^2} &amp; x = a \sin(\theta) &amp; \int a \cos(\theta) d\theta \\
\sqrt{a^2 + x^2} &amp; x = a \tan(\theta) &amp; \int a \sec^2(\theta) d\theta \\
\sqrt{x^2 - a^2} &amp; x = a \sec(\theta) &amp; \int a \sec(\theta) \tan(\theta) d\theta \\
\hline
\end{array}
\]</span></p>
</section>
</section>
<section id="creando-un-triangulo" class="level2">
<h2 class="anchored" data-anchor-id="creando-un-triangulo">Creando un triangulo</h2>
<p>En primer lugar, recordemos el teorema de Pitágoras: <span class="math display">\[
a^2 + b^2 = c^2
\]</span> Si despejamos una de las variables, por ejemplo <span class="math inline">\(c\)</span> (la hipotenusa), tenemos: <span class="math display">\[
c = \sqrt{a^2 + b^2}
\]</span></p>
<p>Si despejamos <span class="math inline">\(a\)</span> (un cateto), tenemos: <span class="math display">\[
a = \sqrt{c^2 - b^2}
\]</span></p>
<p>Despejando <span class="math inline">\(b\)</span> (el otro cateto), tenemos: <span class="math display">\[
b = \sqrt{c^2 - a^2}
\]</span></p>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<div style="text-align:center; width:55%; margin-left: auto; margin-right: auto;">
<p><img src="./1.png" class="img-fluid"></p>
</div>
<div style="text-align:center; width:55%; margin-left: auto; margin-right: auto;">
<p><img src="./2.png" class="img-fluid"></p>
</div>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"></h2>
<div style="text-align:center; width:55%; margin-left: auto; margin-right: auto;">
<p><img src="./3.png" class="img-fluid"></p>
</div>
<div style="text-align:center; width:55%; margin-left: auto; margin-right: auto;">
<p><img src="./4.png" class="img-fluid"></p>
</div>
</section>
<section id="porqué-importan-los-triángulos" class="level1">
<h1>¿Porqué importan los triángulos?</h1>
<p>Permiten deducir las sustitución en vez de memorizarlas.</p>
<section id="ejemplo" class="level2">
<h2 class="anchored" data-anchor-id="ejemplo">Ejemplo</h2>
<p><span class="math display">\[ \int \frac{1}{\sqrt{16 - x^2}} dx \]</span></p>
<p>El denominador se parece al despeje de un cateto, no importa si es el cateto opuesto o adyacente, lo importante es que se parece a la raíz cuadrada de una resta.</p>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2"></h2>
<p>Asumimos que el cateto adyacente es <span class="math inline">\(\sqrt{16 -x^2}\)</span>, esto se parece a el despeje de <span class="math inline">\(a\)</span> (el cateto adyacente), por lo tanto, podemos escribir:</p>
<p><span class="math display">\[
\sqrt{16 - x^2} \cong \sqrt{c^2 - b^2}
\]</span></p>
<p>De aquí podemos deducir que <span class="math inline">\(c = 4\)</span> y <span class="math inline">\(b = x\)</span>.</p>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"></h2>
<p>Por lo tanto, podemos armar el siguiente triángulo:</p>
<div style="text-align:center; width:40%; margin-left: auto; margin-right: auto;">
<p><img src="./5.png" class="img-fluid"></p>
</div>
<p>Con esto podemos deducir esta expresion: <span class="math display">\[
\sin(\theta) = \frac{x}{4}
\]</span> Despejando <span class="math inline">\(x\)</span> tenemos: <span class="math display">\[
x = 4 \sin(\theta)
\]</span></p>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4"></h2>
<p>Esta relación por si misma no nos sirve de nada, pero si la derivamos, podemos obtener una relación entre <span class="math inline">\(dx\)</span> y <span class="math inline">\(d\theta\)</span>: <span class="math display">\[
x = 4 \sin(\theta)
\]</span> <span class="math display">\[
dx = 4 \cos(\theta) d\theta
\]</span></p>
<p>Reemplazando en la integral: <span class="math display">\[
\int \frac{1}{\sqrt{16 - x^2}} dx = \int \frac{1}{\sqrt{16 - (4 \sin(\theta))^2}} 4 \cos(\theta) d\theta
\]</span> Desarrollando la raíz: <span class="math display">\[
4 \int \frac{\cos(\theta) }{\sqrt{16 - 16 \sin^2(\theta)}}  d\theta
\]</span></p>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"></h2>
<p>Sacando el factor común de la raíz: <span class="math display">\[
4 \int \frac{\cos(\theta) }{\sqrt{16(1 - \sin^2(\theta))}}  d\theta
\]</span> <span class="math display">\[
4 \int \frac{\cos(\theta) }{\sqrt{16} \sqrt{1 - \sin^2(\theta)}}  d\theta
\]</span> <span class="math display">\[
4 \int \frac{\cos(\theta) }{4 \sqrt{1 - \sin^2(\theta)}}  d\theta
\]</span></p>
<p><span class="math display">\[
\int \frac{\cos(\theta) }{\sqrt{1 - \sin^2(\theta)}}  d\theta
\]</span></p>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6"></h2>
<p>Recordemos la identidad: <span class="math display">\[
\sin^2(\theta) + \cos^2(\theta) = 1
\]</span> Si despejamos <span class="math inline">\(\cos(\theta)\)</span>, tenemos: <span class="math display">\[
\cos(\theta) = \sqrt{1 - \sin^2(\theta)}
\]</span> Reemplazando en la integral: <span class="math display">\[
\int \frac{\cos(\theta) }{\sqrt{1 - \sin^2(\theta)}}  d\theta = \int \frac{\cos{( \theta )}}{\cos{( \theta )}}  d\theta
\]</span> <span class="math display">\[
\int 1 d\theta = \theta + C
\]</span></p>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7"></h2>
<p>Ahora tenemos que volver a la variable original, para eso, recordemos la relación que teníamos entre <span class="math inline">\(x\)</span> y <span class="math inline">\(\theta\)</span>: <span class="math display">\[
x = 4 \sin(\theta)
\]</span> Despejando <span class="math inline">\(\theta\)</span> tenemos: <span class="math display">\[
\sin(\theta) = \frac{x}{4}
\]</span> <span class="math display">\[
\theta = \arcsin{\left(\frac{x}{4}\right)}
\]</span> Reemplazando en el resultado: <span class="math display">\[
\int \frac{1}{\sqrt{16 - x^2}} dx = \arcsin{\left(\frac{x}{4}\right)} + C
\]</span></p>
</section>
<section id="ejercicio-1" class="level2">
<h2 class="anchored" data-anchor-id="ejercicio-1">Ejercicio 1</h2>
<p>¿Y si hubieramos sido el cateto opuesto? Realiza el mismo proceso, pero asumiendo que el cateto opuesto es <span class="math inline">\(\sqrt{16 - x^2}\)</span>.</p>
<div style="text-align:center; width:70%; margin-left: auto; margin-right: auto;">
<p><img src="./6.png" class="img-fluid"></p>
</div>
</section>
<section id="section-8" class="level2">
<h2 class="anchored" data-anchor-id="section-8"></h2>
<p>Usando el teorema de Pitágoras, podemos deducir que: <span class="math display">\[
b = \sqrt{c^2 - a^2} \cong \sqrt{16 - x^2}
\]</span> Por lo que <span class="math inline">\(c\)</span> es la hipotenusa, <span class="math inline">\(a\)</span> es el cateto opuesto y <span class="math inline">\(b\)</span> es el cateto adyacente. <span class="math display">\[
c = 4 \hspace{0.3cm} a = 4
\]</span></p>
<p>Por lo que el triángulo quedaría así:</p>
<div style="text-align:center; width:50%; margin-left: auto; margin-right: auto;">
<p><img src="./7.png" class="img-fluid"></p>
</div>
</section>
<section id="section-9" class="level2">
<h2 class="anchored" data-anchor-id="section-9"></h2>
<p>Ahora podemos utilizar una función trigonométrica para relacionar el cateto restante con la hipotenusa: <span class="math display">\[
\cos(\theta) = \frac{x}{4}
\]</span> Despejando <span class="math inline">\(x\)</span> tenemos: <span class="math display">\[
x = 4 \cos(\theta)
\]</span> Derivando nuevamente: <span class="math display">\[
dx = -4 \sin(\theta) d\theta
\]</span></p>
</section>
<section id="section-10" class="level2">
<h2 class="anchored" data-anchor-id="section-10"></h2>
<p>Reemplazando en la integral: <span class="math display">\[
\int \frac{1}{\sqrt{16 - x^2}} dx = \int \frac{1}{\sqrt{16 - (4 \cos(\theta))^2}} (-4 \sin(\theta)) d\theta
\]</span> Desarrollando la raíz: <span class="math display">\[
4 \int \frac{-\sin(\theta) }{\sqrt{16 - 16 \cos^2(\theta)}}  d\theta
\]</span> Factorizando: <span class="math display">\[
4 \int \frac{-\sin(\theta) }{\sqrt{16(1 - \cos^2(\theta))}}  d\theta
\]</span></p>
</section>
<section id="section-11" class="level2">
<h2 class="anchored" data-anchor-id="section-11"></h2>
<p>Sacando el factor común de la raíz: <span class="math display">\[
4 \int \frac{-\sin(\theta) }{4 \sqrt{1 - \cos^2(\theta)}}  d\theta
\]</span> <span class="math display">\[
\int \frac{-\sin(\theta) }{\sqrt{1 - \cos^2(\theta)}}  d\theta
\]</span> Recordemos nuevamente la identidad: <span class="math display">\[
\sin^2(\theta) + \cos^2(\theta) = 1
\]</span> Si despejamos <span class="math inline">\(\sin(\theta)\)</span>, tenemos: <span class="math display">\[
\sin(\theta) = \sqrt{1 - \cos^2(\theta)}
\]</span></p>
</section>
<section id="section-12" class="level2">
<h2 class="anchored" data-anchor-id="section-12"></h2>
<p>Reemplazando en la integral: <span class="math display">\[
\int \frac{-\sin(\theta) }{\sqrt{1 - \cos^2(\theta)}}  d\theta = \int \frac{-\sin{( \theta )}}{\sin{( \theta )}}  d\theta
\]</span> <span class="math display">\[
\int -1 d\theta = -\theta + C
\]</span> Ahora tenemos que volver a la variable original, para eso, recordemos la relación que teníamos entre <span class="math inline">\(x\)</span> y <span class="math inline">\(\theta\)</span>: <span class="math display">\[
x = 4 \cos(\theta)
\]</span></p>
<p><span class="math display">\[
\cos(\theta) = \frac{x}{4}
\]</span></p>
</section>
<section id="section-13" class="level2">
<h2 class="anchored" data-anchor-id="section-13"></h2>
<p>Despejando <span class="math inline">\(\theta\)</span> tenemos: <span class="math display">\[
\theta = \arccos{\left(\frac{x}{4}\right)}
\]</span> Por lo que reemplazando en el resultado: <span class="math display">\[
\int \frac{1}{\sqrt{16 - x^2}} dx = -\arccos{\left(\frac{x}{4}\right)} + C
\]</span></p>
</section>
</section>
<section id="es-este-resultado-válido" class="level1">
<h1>¿Es este resultado válido?</h1>
<section id="si" class="level2">
<h2 class="anchored" data-anchor-id="si">Si</h2>
<p>Una integral indefinida es en realidad una antiderivada, en otras palabras una familia de funciones que tienen la misma derivada. Por lo tanto, ambos son válidas, si graficamos ambas funciones, podemos ver que son iguales, pero desplazadas en el eje <span class="math inline">\(y\)</span>:</p>
<div style="text-align:center; width:60%; margin-left: auto; margin-right: auto;">
<p><img src="./8.png" class="img-fluid"></p>
</div>
</section>
<section id="ejercicio-2" class="level2">
<h2 class="anchored" data-anchor-id="ejercicio-2">Ejercicio 2</h2>
<p>Resuelve la siguiente integral usando la sustitución trigonométrica: <span class="math display">\[
\int \frac{dx}{( x^2 + 4 )^{3/2}}
\]</span></p>
</section>
<section id="section-14" class="level2">
<h2 class="anchored" data-anchor-id="section-14"></h2>
<p>Inmediatamente podemos ver que el denominador se parece a la raíz cuadrada de una suma, por lo que podemos asumir que es la hipotenusa de un triángulo rectángulo. Por lo que podemos deducir que: <span class="math display">\[
\sqrt{x^2 + 4} \cong \sqrt{a^2 + b^2}
\]</span> Por lo que <span class="math inline">\(a = x\)</span> (cateto adyacente) y <span class="math inline">\(b = 2\)</span> (cateto opuesto).</p>
<div style="text-align:center; width:55%; margin-left: auto; margin-right: auto;">
<p><img src="./9.png" class="img-fluid"></p>
</div>
</section>
<section id="section-15" class="level2">
<h2 class="anchored" data-anchor-id="section-15"></h2>
<p>Basados en esto podemos usar la relación trigonométrica: <span class="math display">\[
\tan(\theta) = \frac{2}{x}
\]</span> Despejando <span class="math inline">\(x\)</span> tenemos: <span class="math display">\[
x = \frac{2}{\tan(\theta)}
\]</span> Esta sustitución no es muy común, pero es válida. Una más sencilla se consiguería si asumimos que el cateto opuesto es <span class="math inline">\(x\)</span> y el cateto adyacente es <span class="math inline">\(2\)</span>.</p>
<div style="text-align:center; width:37%; margin-left: auto; margin-right: auto;">
<p><img src="./10.png" class="img-fluid"></p>
</div>
</section>
<section id="section-16" class="level2">
<h2 class="anchored" data-anchor-id="section-16"></h2>
<p>Ahora, usando tangente nuevamente, tenemos: <span class="math display">\[
\tan(\theta) = \frac{x}{2}
\]</span> Despejando <span class="math inline">\(x\)</span> tenemos: <span class="math display">\[
x = 2 \tan(\theta)
\]</span> Derivando: <span class="math display">\[
dx = 2 \sec^2(\theta) d\theta
\]</span> Reemplazando en la integral: <span class="math display">\[
\int \frac{dx}{( x^2 + 4 )^{3/2}}
=
\int \frac{2 \sec^2(\theta) d\theta}{( (2 \tan(\theta))^2 + 4 )^{3/2}}
\]</span></p>
</section>
<section id="section-17" class="level2">
<h2 class="anchored" data-anchor-id="section-17"></h2>
<p>Desarrollando el denominador: <span class="math display">\[
\int \frac{2 \sec^2(\theta) d\theta}{( 4 \tan^2(\theta) + 4 )^{3/2}}
\]</span> Sacando el factor común: <span class="math display">\[
\int \frac{2 \sec^2(\theta) d\theta}{( 4 ( \tan^2(\theta) + 1 ) )^{3/2}}
\]</span> Sacando el 2 como constante: <span class="math display">\[
2\int \frac{\sec^2(\theta) d\theta}{4^{3/2} ( \tan^2(\theta) + 1 )^{3/2}}
\]</span> <span class="math display">\[
\frac{2}{8} \int \frac{\sec^2(\theta) d\theta}{( \tan^2(\theta) + 1 )^{3/2}}
\]</span></p>
</section>
<section id="section-18" class="level2">
<h2 class="anchored" data-anchor-id="section-18"></h2>
<p><span class="math display">\[
\frac{1}{4} \int \frac{\sec^2(\theta) d\theta}{( \tan^2(\theta) + 1 )^{3/2}}
\]</span> Para este ejercicio, hay una identidad trigonométrica que nos puede ayudar: <span class="math display">\[
\sec^2(\theta) = 1 + \tan^2(\theta)
\]</span> Reemplazando en la integral: <span class="math display">\[
\frac{1}{4} \int \frac{( 1 + \tan^2(\theta) ) d\theta}{( \tan^2(\theta) + 1 )^{3/2}}
\]</span> Esto se puede simplificar: <span class="math display">\[
\frac{1}{4} \int \frac{( 1 + \tan^2(\theta) ) d\theta}{( 1 + \tan^2(\theta) )^{3/2}}
\]</span></p>
</section>
<section id="section-19" class="level2">
<h2 class="anchored" data-anchor-id="section-19"></h2>
<p><span class="math display">\[
\frac{1}{4} \int \frac{( 1 + \tan^2(\theta) ) d\theta}{( 1 + \tan^2(\theta) )^{3/2}} = \frac{1}{4} \int ( 1 + \tan^2(\theta) )^{-1/2} d\theta
\]</span> Usamos la misma identidad:</p>
<p><span class="math display">\[
\sec^2(\theta) = 1 + \tan^2(\theta)
\]</span> <span class="math display">\[
\frac{1}{4} \int \sec^2(\theta)^{-1/2} d\theta
\]</span> <span class="math display">\[
\frac{1}{4} \int \frac{1}{\sqrt{\sec^2(\theta)}} d\theta
\]</span> <span class="math display">\[
\frac{1}{4} \int \frac{1}{\sec(\theta)} d\theta
\]</span></p>
</section>
<section id="section-20" class="level2">
<h2 class="anchored" data-anchor-id="section-20"></h2>
<p>Recordemos la definición de secante: <span class="math display">\[
\sec(\theta) = \frac{1}{\cos(\theta)}
\]</span> Por lo que podemos escribir: <span class="math display">\[
\frac{1}{4} \int \frac{1}{\sec(\theta)} d\theta = \frac{1}{4} \int \cos(\theta) d\theta
\]</span> La cual es una integral básica: <span class="math display">\[
\frac{1}{4} \int \cos(\theta) d\theta = \frac{1}{4} \sin(\theta) + C
\]</span></p>
</section>
<section id="section-21" class="level2">
<h2 class="anchored" data-anchor-id="section-21"></h2>
<p>Ahora tenemos que volver a la variable original, para eso, podemos usar el mismo triangulo:</p>
<div style="text-align:center; width:37%; margin-left: auto; margin-right: auto;">
<p><img src="./10.png" class="img-fluid"></p>
</div>
<p>El seno es: <span class="math display">\[
\sin(\theta) = \frac{x}{\sqrt{x^2 + 4}}
\]</span></p>
</section>
<section id="section-22" class="level2">
<h2 class="anchored" data-anchor-id="section-22"></h2>
<p>Reemplazando en el resultado: <span class="math display">\[
\int \frac{dx}{( x^2 + 4 )^{3/2}} = \frac{1}{4} \sin(\theta) + C
\]</span> <span class="math display">\[
\int \frac{dx}{( x^2 + 4 )^{3/2}} = \frac{1}{4} \frac{x}{\sqrt{x^2 + 4}} + C
\]</span></p>
</section>
</section>
<section id="fracciones-parciales" class="level1">
<h1>Fracciones Parciales</h1>
<p>Las fracciones parciales son una técnica utilizada para descomponer una función racional en una suma de fracciones más simples. Esta técnica es especialmente útil para resolver integrales que involucran funciones racionales.</p>
<section id="section-23" class="level2">
<h2 class="anchored" data-anchor-id="section-23"></h2>
<section id="caso-1" class="level4">
<h4 class="anchored" data-anchor-id="caso-1">Caso 1</h4>
<p>Denominador lineal (grado menor al del denominador) <span class="math display">\[
\frac{P(x)}{(ax+b)(cx+d)(ex+f)} = \frac{A}{ax+b} + \frac{B}{cx+d} + \frac{C}{ex+f}
\]</span></p>
</section>
<section id="caso-2" class="level4">
<h4 class="anchored" data-anchor-id="caso-2">Caso 2</h4>
<p>Denominador lineal repetido <span class="math display">\[
\frac{P(x)}{(ax+b)(cx+d)^2(ex+f)} = \frac{A}{ax+b} + \frac{B}{cx+d} + \frac{C}{(cx+d)^2} + \frac{D}{ex+f}
\]</span></p>
</section>
<section id="caso-3" class="level4">
<h4 class="anchored" data-anchor-id="caso-3">Caso 3</h4>
<p>Denominador cuadrático irreducible <span class="math display">\[
\frac{P(x)}{(x^2+1)} = \frac{Ax+B}{x^2+1}
\]</span></p>
</section>
</section>
<section id="section-24" class="level2">
<h2 class="anchored" data-anchor-id="section-24"></h2>
<section id="caso-4" class="level4">
<h4 class="anchored" data-anchor-id="caso-4">Caso 4</h4>
<p>Denominador cuadrático irreducible repetido <span class="math display">\[
\frac{P(x)}{(x^2+1)^2} = \frac{Ax+B}{x^2+1} + \frac{Cx+D}{(x^2+1)^2}
\]</span></p>
</section>
</section>
<section id="ejemplo-1" class="level2">
<h2 class="anchored" data-anchor-id="ejemplo-1">Ejemplo</h2>
<p><span class="math display">\[ \int \frac{4}{x^3 + 2x^2 - 3x} dx \]</span></p>
</section>
<section id="section-25" class="level2">
<h2 class="anchored" data-anchor-id="section-25"></h2>
<p>Primero, factorizamos el denominador: <span class="math display">\[
x^3 + 2x^2 - 3x = x(x^2 + 2x - 3) = x(x+3)(x-1)
\]</span> Reescribiendo la integral:</p>
<p><span class="math display">\[
\int \frac{4}{x(x+3)(x-1)} dx
\]</span> Ahora, descomponemos la fracción en fracciones parciales: <span class="math display">\[
\frac{4}{x(x+3)(x-1)} = \frac{A}{x} + \frac{B}{x+3} + \frac{C}{x-1}
\]</span> Multiplicando ambos lados por el denominador común: <span class="math display">\[
4 = A(x+3)(x-1) + Bx(x-1) + Cx(x+3)
\]</span></p>
</section>
<section id="section-26" class="level2">
<h2 class="anchored" data-anchor-id="section-26"></h2>
<p>Desarrollamos: <span class="math display">\[
4 = A(x^2 + 2x - 3) + B(x^2 - x) + C(x^2 + 3x)
\]</span> <span class="math display">\[
4 = Ax^2 + 2Ax - 3A + Bx^2 - Bx + Cx^2 + 3Cx
\]</span> Agrupamos términos basados en su grado: <span class="math display">\[
4 = (A + B + C)x^2 + (2A - B + 3C)x + (-3A)
\]</span> Igualamos los coeficientes, escribiendo 0 para los términos que no aparecen: <span class="math display">\[
0x^2 + 0x + 4 = (A + B + C)x^2 + (2A - B + 3C)x + (-3A)
\]</span></p>
</section>
<section id="section-27" class="level2">
<h2 class="anchored" data-anchor-id="section-27"></h2>
<p>Esto nos da un sistema de ecuaciones: <span class="math display">\[
A + B + C = 0 \hspace{1cm} (1)
\]</span> <span class="math display">\[
2A - B + 3C = 0 \hspace{1cm} (2)
\]</span> <span class="math display">\[
-3A = 4 \hspace{1cm} (3)
\]</span> De la ecuación (3), podemos despejar <span class="math inline">\(A\)</span>: <span class="math display">\[
A = -\frac{4}{3}
\]</span> Ahora, sustituimos <span class="math inline">\(A\)</span> en las ecuaciones (1) y (2): <span class="math display">\[
-\frac{4}{3} + B + C = 0 \hspace{1cm} (1)
\]</span> <span class="math display">\[
2\left(-\frac{4}{3}\right) - B + 3C = 0 \hspace{1cm} (2)
\]</span></p>
</section>
<section id="section-28" class="level2">
<h2 class="anchored" data-anchor-id="section-28"></h2>
<p>Aqui, podemos despejar cuaquier variable en cualquier ecuación restante, por ejemplo <span class="math inline">\(B\)</span> en la ecuación (1):</p>
<p><span class="math display">\[
B = \frac{4}{3} - C \hspace{1cm} (1)
\]</span> Y reemplazarlo en la ecuación (2): <span class="math display">\[
2\left(-\frac{4}{3}\right) - \left(\frac{4}{3} - C\right) + 3C = 0
\]</span> <span class="math display">\[
-\frac{8}{3} - \frac{4}{3} + C + 3C = 0
\]</span> <span class="math display">\[
-\frac{12}{3} + 4C = 0
\]</span> <span class="math display">\[
4C = 4 \rightarrow C = 1
\]</span></p>
</section>
<section id="section-29" class="level2">
<h2 class="anchored" data-anchor-id="section-29"></h2>
<p>Ahora que tenemos C, podemos reemplazarlo en el despeje de <span class="math inline">\(B\)</span> de la ecuación (1): <span class="math display">\[
B = \frac{4}{3} - C
\]</span> <span class="math display">\[
B = \frac{4}{3} - 1
\]</span></p>
<p><span class="math display">\[
B = \frac{4}{3} - \frac{3}{3}
\]</span> <span class="math display">\[
B = \frac{1}{3}
\]</span></p>
<p>Tenemos los valores de <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span> y <span class="math inline">\(C\)</span>: <span class="math display">\[
A = -\frac{4}{3} \hspace{1cm} B = \frac{1}{3} \hspace{1cm} C = 1
\]</span></p>
</section>
<section id="section-30" class="level2">
<h2 class="anchored" data-anchor-id="section-30"></h2>
<p>Reemplazando en la descomposición de fracciones parciales: <span class="math display">\[
\frac{4}{x(x+3)(x-1)} = \frac{-\frac{4}{3}}{x} + \frac{\frac{1}{3}}{x+3} + \frac{1}{x-1}
\]</span> <span class="math display">\[
\frac{4}{x(x+3)(x-1)} = -\frac{4}{3x} + \frac{1}{3(x+3)} + \frac{1}{x-1}
\]</span></p>
<p>Reemplazamos esto en la integral original y aplicamos linealidad: <span class="math display">\[
\int \frac{4}{x(x+3)(x-1)} dx = \int -\frac{4}{3x} dx + \int \frac{1}{3(x+3)} dx + \int \frac{1}{x-1} dx
\]</span> <span class="math display">\[
= -\frac{4}{3} \int \frac{1}{x} dx + \frac{1}{3} \int \frac{1}{x+3} dx + \int \frac{1}{x-1} dx
\]</span></p>
<p><span class="math display">\[
= -\frac{4}{3} \ln{|x|} + \frac{1}{3} \ln{|x+3|} + \ln{|x-1|} + C
\]</span></p>
</section>
<section id="ejercicio-3" class="level2">
<h2 class="anchored" data-anchor-id="ejercicio-3">Ejercicio 3</h2>
<p>Resuelve la siguiente integral usando fracciones parciales: <span class="math display">\[
\int \frac{4x -2}{(x^2+1)(x^2 -2x+2)} dx
\]</span></p>
</section>
<section id="section-31" class="level2">
<h2 class="anchored" data-anchor-id="section-31"></h2>
<p>Esta expresión no es factorizable, por lo que tendremos que descomponerla en fracciones parciales tal que así:</p>
<p><span class="math display">\[
\frac{4x -2}{(x^2+1)(x^2 -2x+2)} = \frac{Ax + B}{x^2 + 1} + \frac{Cx + D}{x^2 - 2x + 2}
\]</span> Multiplicando ambos lados por el denominador común: <span class="math display">\[
4x - 2 = (Ax + B)(x^2 - 2x + 2) + (Cx + D)(x^2 + 1)
\]</span> Desarrollando: <span class="math display">\[
4x - 2 = Ax^3 - 2Ax^2 + 2Ax + Bx^2 - 2Bx + 2B + Cx^3 + Cx + Dx^2 + D
\]</span> Agrupando términos: <span class="math display">\[
4x - 2 = (A + C)x^3 + (-2A + B + D)x^2 + (2A - 2B + C)x + (2B + D)
\]</span></p>
</section>
<section id="section-32" class="level2">
<h2 class="anchored" data-anchor-id="section-32"></h2>
<p>Igualando los coeficientes:</p>
<p><span class="math display">\[
0x^3 + 0x^2 + 4x - 2 = (A + C)x^3 + (-2A + B + D)x^2 + (2A - 2B + C)x + (2B + D)
\]</span> Esto nos da el siguiente sistema de ecuaciones: <span class="math display">\[
A + C = 0 \hspace{1cm} (1)
\]</span> <span class="math display">\[
-2A + B + D = 0 \hspace{1cm} (2)
\]</span> <span class="math display">\[
2A - 2B + C = 4 \hspace{1cm} (3)
\]</span> <span class="math display">\[
2B + D = -2 \hspace{1cm} (4)
\]</span></p>
<p>De la ecuación (3), podemos despejar <span class="math inline">\(2A\)</span>: <span class="math display">\[
2A = 4 + 2B - C \hspace{1cm} (3)
\]</span></p>
</section>
<section id="section-33" class="level2">
<h2 class="anchored" data-anchor-id="section-33"></h2>
<p>Podemos reemplazar esto en la ecuación (2): <span class="math display">\[
-\left({4 + 2B - C}\right) + B + D = 0
\]</span> <span class="math display">\[
-4 - 2B + C + B + D = 0
\]</span> <span class="math display">\[
- B + C + D = 4
\]</span> Despejemos <span class="math inline">\(D\)</span> en la ecuación (4) y reemplazemos en la ecuación anterior: <span class="math display">\[
D = -2 - 2B \hspace{1cm} (4)
\]</span> <span class="math display">\[
-B + C - 2 - 2B = 4
\]</span> <span class="math display">\[
-C - 3B = 6
\]</span> De aqui podemos despejar <span class="math inline">\(C\)</span>: <span class="math display">\[
C = -6 - 3B \hspace{1cm} (5)
\]</span></p>
</section>
<section id="section-34" class="level2">
<h2 class="anchored" data-anchor-id="section-34"></h2>
<p>Reemplazando en la ecuación (3):</p>
<p><span class="math display">\[
2A - 2B + C = 4
\]</span> <span class="math display">\[
2A - 2B + (-6 - 3B) = 4
\]</span> Recordemos que <span class="math inline">\(A = -C\)</span> (de la ecuación (1)), por lo que podemos reemplazar <span class="math inline">\(A\)</span>:</p>
<p><span class="math display">\[
2(-C) - 2B - 6 - 3B = 4
\]</span> Ya que <span class="math inline">\(C = -6 - 3B\)</span>, podemos reemplazarlo: <span class="math display">\[
2(-(-6 - 3B)) - 2B - 6 - 3B = 4
\]</span> <span class="math display">\[
12 + 6B - 2B - 6 - 3B = 4
\]</span> <span class="math display">\[
6B - 2B - 3B = -2
\]</span> <span class="math display">\[
B = -2
\]</span></p>
</section>
<section id="section-35" class="level2">
<h2 class="anchored" data-anchor-id="section-35"></h2>
<p>Con esto podemos calcular <span class="math inline">\(C\)</span> y <span class="math inline">\(D\)</span>: <span class="math display">\[
C = -6 - 3B
\]</span> <span class="math display">\[
C = -6 - 3(-2) = -6 + 6 = 0
\]</span> Si <span class="math inline">\(C = 0\)</span>, entonces <span class="math inline">\(A = 0\)</span> (de la ecuación (1)): <span class="math display">\[
A = -C = 0
\]</span> Finalmente, para <span class="math inline">\(D\)</span>: <span class="math display">\[
D = -2 - 2B
\]</span> <span class="math display">\[
D = -2 - 2(-2) = -2 + 4 = 2
\]</span></p>
</section>
</section>
<section id="en-resumen" class="level1">
<h1>En resumen</h1>
<p><span class="math display">\[
A = 0 \hspace{1cm} B = -2 \hspace{1cm} C = 0 \hspace{1cm} D = 2
\]</span> Reemplazando en la descomposición de fracciones parciales:</p>
<section id="section-36" class="level2">
<h2 class="anchored" data-anchor-id="section-36"></h2>
<p><span class="math display">\[
\frac{4x -2}{(x^2+1)(x^2 -2x+2)} = \frac{Ax + B}{x^2 + 1} + \frac{Cx + D}{x^2 - 2x + 2}
\]</span> <span class="math display">\[
\frac{4x -2}{(x^2+1)(x^2 -2x+2)} = \frac{-2}{x^2 + 1} + \frac{2}{x^2 - 2x + 2}
\]</span></p>
<p>Ahora podemos reemplazar esto en la integral original y aplicar linealidad: <span class="math display">\[
\int \frac{4x -2}{(x^2+1)(x^2 -2x+2)} dx = \int \frac{-2}{x^2 + 1} dx + \int \frac{2}{x^2 - 2x + 2} dx
\]</span> La primera integral es una integral conocida: <span class="math display">\[
\int \frac{-2}{x^2 + 1} dx = -2 \tan^{-1}(x) + C
\]</span></p>
</section>
<section id="section-37" class="level2">
<h2 class="anchored" data-anchor-id="section-37"></h2>
<p>La segunda integral es un poco más complicada, pero podemos completar el cuadrado en el denominador: <span class="math display">\[
x^2 - 2x + 2 = (x-1)^2 + 1
\]</span> <span class="math display">\[
\int \frac{2}{(x-1)^2 + 1} dx
\]</span> Si sustituimos <span class="math inline">\(u = x - 1\)</span> y <span class="math inline">\(du = dx\)</span>, la integral se convierte en: <span class="math display">\[
\int \frac{2}{u^2 + 1} du
\]</span> La cual es la que acabamos de hacer: <span class="math display">\[
\int \frac{2}{u^2 + 1} du = 2 \tan^{-1}(u) + C
\]</span></p>
</section>
<section id="section-38" class="level2">
<h2 class="anchored" data-anchor-id="section-38"></h2>
<p>Volviendo a la variable original: <span class="math display">\[
\int \frac{2}{(x-1)^2 + 1} dx = 2 \tan^{-1}(x-1) + C
\]</span></p>
<p>El resultado final sería la suma de ambas integrales: <span class="math display">\[
\int \frac{4x -2}{(x^2+1)(x^2 -2x+2)} dx = -2 \tan^{-1}(x) + 2 \tan^{-1}(x-1) + C
\]</span></p>
</section>
</section>
<section id="gracias-por-su-atención" class="level1">
<h1>Gracias por su atención</h1>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>